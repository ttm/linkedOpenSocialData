\documentclass[review]{elsarticle}
% \usepackage[active, tightpage]{preview}

\usepackage{enumitem}
\usepackage{hyperref}
\usepackage{xcolor}
\hypersetup{
    colorlinks,
    linkcolor={red!50!black},
    citecolor={blue!50!black},
    urlcolor={blue!80!black},
    pdfborder={0 0 0}
}
\usepackage{multirow}
\usepackage{pgfplots}
\usepackage{float}
\usepackage{amssymb}
\usepackage{cleveref}
\usepackage[english]{babel}
\usepackage[utf8]{inputenc}
\usepackage[T1]{fontenc}
% \usepackage{changepage}
\usepackage{longtable}
\usepackage{tabularx}
\usepackage{pdfpages}
\usepackage{incgraph,tikz}
\usepackage[titles]{tocloft}
\setlength{\cftbeforesecskip}{-.5ex}
\renewcommand{\cftsecleader}{\cftdotfill{\cftdotsep}}

% \usepackage[showframe=true]{geometry}
%
\newcommand{\te}[1] {\texttt{\footnotesize#1}}
\newcommand{\h} {\hphantom ~ }
% \newcommand{\te}[1] {\mbox{\texttt{\footnotesize#1}}}
% \newcommand{\te}[1] {
% \begin{verbatim} #1 \end{verbatim}
% }
\pgfplotsset{compat=1.5}
\pgfplotsset
{
	width=0.5\textwidth,
	x tick label style={/pgf/number format/1000 sep=},
  enlarge x limits = 0.0,
  ymajorgrids=true,
	major tick style={draw=none},
  ymin = 0.0,
	every axis/.append style={
		every x tick label/.append style={font=\tiny},
    every y tick label/.append style={font=\tiny},
    every axis label/.append style={font=\small},
    height=37mm,
    width=37mm,
    title style={at={(0.5,0.90)}, font=\normalfont},
    xticklabel style={yshift=4pt}
	}
}

%% `Elsevier LaTeX' style
\bibliographystyle{elsarticle-num}
%
\makeatletter
\def\ps@pprintTitle{%
    \let\@oddhead\@empty
    \let\@evenhead\@empty
    \def\@oddfoot{}%
\let\@evenfoot\@oddfoot}
\makeatother
\begin{document}
%
\begin{frontmatter}
%
\title{LOSD: A Linked Open Social Dataset for Scientific Research
  (Supplementary document)}
%
\author[pwa]{Renato Fabbri\corref{corresponding}\fnref{kii-url}}
\ead{fabbri@usp.br}
%
\author[pwr]{Osvaldo Novais de Oliveira Junior\fnref{kio-url}}
\ead{chu@ifsc.usp.br}
%
\cortext[corresponding]{Corresponding author}
\address[pwa]{
Institute of Mathematical and Computer Sciences, University of São Paulo (ICMC/USP), São Carlos, Brazil
}
\address[pwr]{
São Carlos Institute of Physics, University of São Paulo (IFSC/USP), São Carlos, Brazil
}
%
\fntext[kii-url]{\textit{URL:} \url{https://icmc.usp.br/}}
\fntext[kio-url]{\textit{URL:} \url{http://www.ifsc.usp.br/}}
%
\begin{abstract}
This is a Supplementary document which provides ontological
diagrams and auxiliary tables for the LOSD dataset.
The main document of the article is in~\cite{losd}.
\end{abstract}
%
\end{frontmatter}
\newcommand{\foo}{\textheight}
\newcommand{\foobar}{\pdfpageheight}
% \pdfpageheight 8in
\tableofcontents
\clearpage
\section{General guidance}
% \paperheight = 200pt
In this document we provide diagrams
for the provenances in LOSD, namely
Facebook, Twitter, IRC, Email, Participa.BR, Cidade Democrática and AA.
Each provenance has two diagrams: one presents the relations
among classes (blue nodes) and data types (orange nodes),
the other presents metadata for the snapshot provenance.
Every class instance is related to the snapshot instance
by the triple \te{class\_uri po:snapshot snapshot\_uri}.
Such triples are omitted for simplicity.
Due to the large number of relations, the rendering of diagrams are
automatized and displays some overlaps of the nodes related to each class or datatype.
Even so, the images are useful for grasping what is available in current LOSD
and exploration assistance.
Edges in the diagrams have (see OWL official documentation or the article~\cite{losd}:
\begin{itemize}
    \item green color if representing an OWL existential
class restriction;
    \item inverted arrow tip if representing an OWL universal class
        restriction;
    \item full edges (non-dashed) if representing a functional property
        axiom.
\end{itemize}

Furthermore, this document ends with two sets of tables, one with
references for snapshot groups, such as Wikipedia or
contact links, 
the other with 
counts of
triples, participants, edges/interactions/relations and characters.


\section{Facebook data}
Each Facebook snapshot is yield by either a user, from which the
friends are in the friendship network, or a group, in which participants
can yield friendship and interaction networks and posts information with
text and some metadata.
Further information is found in the following diagrams, in the tables at
the end of this document or in the main document of this article~\cite{losd}.

% \includepdf{ontologies/aairc.ttl/draw.pdf}
\incgraph[
  overlay={\node[red,below right] at (page.north west) {\Huge Facebook};}
    paper=graphics
][scale=.6]{ontologies/facebook-legacy-Auricultura10042013Friendship.ttl/draw.png}

\textheight = 2in
\pdfpageheight 5in
\incgraph[
  overlay={\node[red,below right] at (page.north west) {\Huge Facebook};}
    paper=graphics
][scale=.5]{ontologies/facebook-legacy-Auricultura10042013Meta.ttl/draw.png}

\section{Twitter data}
Each Twitter snapshot is yield by a hashtag.
Retweets (\te{po:retweetOf} are usually considered the interactions between users.
The database present also \te{po:replyTo} and \te{po:userMention}
which may be useful in understanding the networking and provides additional networks.
Further information is found in the following diagrams, in the tables at
the end of this document or in the main document of this article~\cite{losd}.

\incgraph[
  overlay={\node[red,below right] at (page.north west) {\Huge
  Twitter };}
    paper=graphics
][scale=.5]{ontologies/twitter-legacy-arenaNETmundialTweet00000.ttl/draw.png}

\incgraph[
  overlay={\node[red,below right] at (page.north west) {\Huge Twitter};}
    paper=graphics
][scale=.7]{ontologies/twitter-legacy-arenaNETmundialMeta.ttl/draw.png}

\section{IRC data}
Each IRC snapshot is yield by an IRC channel.
IRC messages are either 1) server messages (e.g. join and exit)
marked with \te{po:systemMessage true} and having an \te{po:impliedUser user\_uri},
or 2) user messages, which yield interactions through \te{po:directedTo} and \te{po:mentions} properties.
Text messages without the user names are provided through the \te{po:cleanText} property.
Further information is found in the following diagrams, in the tables at
the end of this document or in the main document of this article~\cite{losd}.
\incgraph[
  overlay={\node[red,below right] at (page.north west) {\Huge IRC};}
    paper=graphics
][scale=.7]{ontologies/irc-legacy-hackerspace-cpsLog00000.ttl/draw.png}
\incgraph[
  overlay={\node[red,below right] at (page.north west) {\Huge IRC};}
    paper=graphics
][scale=.6]{ontologies/irc-legacy-hackerspace-cpsMeta.ttl/draw.png}

\section{Email data}
Each email snapshot is yield by an Email list.
Interactions are entailed by \te{po:replyTo} relations
although \te{po:to} and \te{po:cc} may also be considered.
The email body is given by \te{po:text} relations while
\te{po:cleanText} links to text with lines removed where they are
obviously from previous messages or computer code.
Further information is found in the following diagrams, in the tables at
the end of this document or in the main document of this article~\cite{losd}.
\incgraph[
  overlay={\node[red,below right] at (page.north west) {\Huge Email};}
    paper=graphics
][scale=.4]{ontologies/email-legacy-linux.audio.devel1-20000Email00000.ttl/draw.png}
\textheight = 3in
\pdfpageheight 6in
\incgraph[
  overlay={\node[red,below right] at (page.north west) {\Huge Email};}
    paper=graphics
][scale=.5]{ontologies/email-legacy-linux.audio.devel1-20000Meta.ttl/draw.png}

\section{Participa.BR data}
The Participa.BR snapshot is yield by a data dump donated by the system
administrators of the federal portal of social participation Participa.BR.
Articles can have parent articles (\te{po:parent}), can be a step of a
collection of articles (\te{po:stepOf}) and can be a mediation of other
articles (\te{po:mediationOf}).
Interactions are entailed by comments which are \te{po:replyTo} other
comments or which are made directly to an article.
This snapshot also holds friendship structures.
The language used is mainly Brazilian Portuguese, but English and
Spanish are also incident.
Due to the higher complexity of the diagram, an additional figure,
obtained through another layout algorithm, is given.
Further information is found in the following diagrams, in the tables at 
the end of this document or in the main document of this article~\cite{losd}.
\incgraph[
  overlay={\node[red,below right] at (page.north west) {\Huge
  Participa.BR};}
    paper=graphics
][scale=.5]{ontologies/participabr.ttl/draw.png}
\incgraph[
  overlay={\node[red,below right] at (page.north west) {\Huge
  Participa.BR};}
    paper=graphics
][scale=.7]{ontologies/participabr.ttl/draw_circo.png}
\incgraph[
  overlay={\node[red,below right] at (page.north west) {\Huge
  Participa.BR};}
    paper=graphics
][scale=.7]{ontologies/participabrMeta.ttl/draw.png}

\section{Cidade Democrática data}
The Cidade Democrática snapshot is yield by a data dump donated by the system
administrators of the civil society social participation portal Cidade
Democrática.
This snapshot holds a complex structure of both
Topics/Inspirations/Observatories/Supports/Competitions/Prizes
and of State/City/Neighborhood/Place.
The language used is mainly Brazilian Portuguese.
Due to the higher complexity of the diagram, an additional figure,
obtained through another layout algorithm, is given.
Further information is found in the following diagrams, in the tables at
the end of this document or in the main document of this article~\cite{losd}.
\incgraph[
  overlay={\node[red,below right] at (page.north west) {\Huge Cidade
  Democrática};}
    paper=graphics
][scale=.4]{ontologies/cidadedemocratica00000.ttl/draw.png}
\textheight = 2in
\pdfpageheight 5in
\incgraph[
  overlay={\node[red,below right] at (page.north west) {\Huge Cidade
  Democrática};}
    paper=graphics
][scale=.4]{ontologies/cidadedemocratica00000.ttl/draw_circo.png}

\incgraph[
  overlay={\node[red,below right] at (page.north west) {\Huge Cidade
  Democrática};}
    paper=graphics
][scale=.7]{ontologies/cidadedemocraticaMeta.ttl/draw.png}

\section{AA data}
The AA (Algorithmic Autoregulation) snapshots are yield by a data dump donated by the system
administrators and by a mined IRC log.
The system aims at simplicity and most of the data consists of
shouts with \te{po:text} and \te{po:author}.
Further information is found in the following diagrams, in the tables at
the end of this document or in the main document of this article~\cite{losd}.
\incgraph[
  overlay={\node[red,below right] at (page.north west) {\Huge AA};}
    paper=graphics
][scale=.6]{ontologies/aairc.ttl/draw.png}
\textheight = 7in
\pdfpageheight \foobar
\incgraph[
  overlay={\node[red,below right] at (page.north west) {\Huge AA};}
    paper=graphics
][scale=.7]{ontologies/aaircMeta.ttl/draw.png}

\section{Snapshot references}
\label{sreferences}
\pdfpageheight 10in
\input{tables/facebookReferences}



\begin{table*}[h!]\scriptsize
\begin{center}
\caption{Different Twitter snapshots are yield by different hashtags.
  This table presents each snapshot with the respective hashtag and a
reference to the subject.}\label{tab:provenance}
\begin{tabular}{| l || p{4cm} | p{4cm} | }\hline
    \textbf{snapshot hashtag} & \textbf{observation} & \textbf{reference} \\\hline\hline
    \#arenaNETmundial & a Brazilian discussion hub about free culture, democracy and the internet & \url{http://www.participa.br/netmundial} \\\hline
    \#art & tweets with the generic hashtag \#art & \url{https://en.wikipedia.org/wiki/Art} \\\hline
    \#ChennaiFloods & heavy rainfall generated by the annual northeast monsoon in November–December 2015 & \url{https://en.wikipedia.org/wiki/2015_South_Indian_floods} \\\hline
    \#dilma & the 36th President of Brazil & \url{https://en.wikipedia.org/wiki/Dilma_Rousseff} \\\hline
    \#ForaDilma & 2015-16 anti-government protests in Brazil & \url{https://en.wikipedia.org/wiki/2015-16_protests_in_Brazil} \\\hline
    \#ForaCunha & 2015-16 anti-corruption protests in Brazil & \url{https://en.wikipedia.org/wiki/2015-16_protests_in_Brazil} \\\hline
    \#fuck & tweets with the generic hashtag \#fuck & \url{https://en.wikipedia.org/wiki/Fuck} \\\hline
    \#game & tweets with the generic hashtag \#game & \url{https://en.wikipedia.org/wiki/Game} \\\hline
    \#god & tweets with the generic hashtag \#god & \url{https://en.wikipedia.org/wiki/God} \\\hline
    \#MAMA2015 & the grand 2015 Mnet Asian Music Awards & \url{https://en.wikipedia.org/wiki/2015_Mnet_Asian_Music_Awards} \\\hline
    \#music & tweets with the generic hashtag \#music & \url{https://en.wikipedia.org/wiki/Music} \\\hline
    \#obama & the 44th President of the United States & \url{https://en.wikipedia.org/wiki/Barack_Obama} \\\hline
    \#python & the Python programming language & \url{https://en.wikipedia.org/wiki/Python_(programming_language)} \\\hline
    \#QuartaSemRacismoClubeSDV & an anti-racism netweaving & \url{https://twitter.com/hashtag/quartasemracismoclubesdv} \\\hline
    \#science & tweets with the generic hashtag \#science & \url{https://en.wikipedia.org/wiki/Science} \\\hline
    \#SnapDetremura & reference for Snapchat about a celebrated person & \url{https://twitter.com/detremura} \\\hline
\end{tabular}\end{center}
\end{table*}                    


\begin{table*}[h!]\scriptsize
\begin{center}
\caption{Different IRC snapshots are yield by different IRC channels.
  This table presents each snapshot with the respective channel and a
reference to the subject.}\label{tab:provenance}
\begin{tabular}{| l || p{4cm} | p{4cm} | }\hline
    \textbf{snapshot channel} & \textbf{observation} & \textbf{reference} \\\hline\hline
    \#foradoeixo & a Brazilian network of culture related collectives & \url{https://pt.wikipedia.org/wiki/Fora_do_Eixo} \\\hline
    \#hackerspace-cps & a hackerspace in Campinas, Brazil & \url{https://lhc.net.br/wiki/P%C3%A1gina_principal} \\\hline
    \#hackerspaces-br & Brazilian hackerspaces channel & \url{https://garoa.net.br/wiki/Hackerspaces_Brasileiros} \\\hline
    \#labmacambira & Brazilian channel for the labMacambira collective & \url{http://labmacambira.sourceforge.net/} \\\hline
\end{tabular}\end{center}
\end{table*}                    

\begin{table*}[h!]\scriptsize
\begin{center}
\caption{Different Email snapshots are yield by different email lists.
  This table presents each snapshot with the respective list and a
reference to the subject.}\label{tab:provenance}
\begin{tabular}{| p{4cm} || p{4cm} | p{4cm} | }\hline
    \textbf{Gmane ID} & \textbf{observation} & \textbf{reference} \\\hline\hline
    gmane.linux.audio.users & the Linux Audio Users & \url{http://linuxaudio.org} \\\hline
    gmane.politics.organizations.me-tareciclagem & a network about technology and social transformation  & \url{https://metareciclagem.github.io} \\\hline
    gmane.linux.audio.devel & the Linux Audio Developers & \url{http://lists.linuxaudio.org/listinfo/linux-audio-dev} \\\hline
    gmane.comp.gcc.libstdc++.devel & the C++ standard library & \url{https://gcc.gnu.org/libstdc++/} \\\hline
\end{tabular}\end{center}
\end{table*}                    
 
\begin{table*}[h!]\scriptsize
\begin{center}
\caption{References for the snapshots of
Participa.BR, Cidade Democrática and AA.}\label{tab:provenance}
\begin{tabular}{| l || p{4cm} | p{3cm} | }\hline
    \textbf{social protocol} & \textbf{observations} & \textbf{reference} \\\hline\hline
    Participa.BR & a Brazilian federal portal of social participation & \url{http://www.participa.br/} \\\hline
    Cidade Demorática & a Brazilian civil society portal of social participation & \url{http://www.cidadedemocratica.org.br/} \\\hline
    AA & the Algorithmic Autoregulation software development methodology & \cite{aarticle} \\\hline
\end{tabular}\end{center}
\end{table*}                    


\clearpage
\section{Trivial counts in each snapshot}
\input{tables/basicOverall}




\clearpage


\section*{References}

%
\bibliography{paper}
%\bibliography{myLastBibfile.bib}
%
\end{document} 
